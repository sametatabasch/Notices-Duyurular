!function(a){a.fn.GBWindow=function(b){function q(){f.append(g),f.append(h),o=c.windowModeNoticeIds,w(),g.click(A)}function r(){if(o.length>0){if(d>=0)a.ajax({type:"POST",url:ajaxData_GBWindow.ajaxurl,data:{noticeId:o[d],security:ajaxData_GBWindow.securityFor_getSingleWindowModeNotice,action:"getSingleWindowModeNotice"},success:function(b){p=new GB_D_noticeWindow(a(b.html)),p._jObject=p._jObject},async:!1});else switch(d){case-1:p=new GB_D_noticeWindow(l),p._jObject=p._jObject;break;case-2:p=new GB_D_noticeWindow(j),p._jObject=p._jObject}return!0}return D(),!1}function s(){r()&&(g.removeClass("notice-white notice-red notice-green notice-blue"),g.addClass(p._color),h.removeClass("xLarge large medium small"),h.addClass(p._size),a("#wpadminbar").hide(),h.append(p._jObject),h.append(i),h.imagesLoaded().done(function(){i.remove(),p._jObject.fadeIn(),E(),p._jObject.find(".close").click(y),t()}))}function t(){!1!==p._displayTime&&p._progress.animate({value:0},{duration:1e3*p._displayTime,done:function(){"backgroundClickMessage"===p._jObject.attr("id")?D():B()},fail:function(){p._progress.val(100)}})}function u(){p._progress.stop(!0,!1),p._jObject.fadeOut(function(){p._jObject.remove(),d++,d>o.length-1&&(d=0),s(),w()})}function v(){p._progress.stop(!0,!1),p._jObject.fadeOut(function(){p._jObject.remove(),d--,d<0&&(d=o.length-1),s(),w()})}function w(){o.length>1&&(h.append(n),h.append(m),n.click(u),m.click(v))}function x(){o.length>1&&(n.remove(),m.remove())}function y(){p._progress.stop(!0,!1),p._jObject.fadeOut(function(){p._jObject.remove(),e=d,d=-2,s(),x(),a("#dontShowAgainNotice",j).click(z),a("#closeNotice",j).click(B)})}function z(){C(),a.post(ajaxData_GBWindow.ajaxurl,{noticeId:p._postId,action:"markAsReadNotice",security:ajaxData_GBWindow.securityFor_markAsReadNotice},function(){}),C(),B()}function A(){k||(p._progress.stop(!0,!1),k=!0,p._jObject.fadeOut(function(){p._jObject.remove(),d=-1,s(),x()}))}function B(){p._jObject.fadeOut(function(){p._jObject.remove(),C(),o.splice(d,1),d>o.length-1&&(d=0),s(),w()})}function C(){if(-1!==e){var a=d;d=e,e=a,r()}}function D(){g.remove(),h.remove(),a("#wpadminbar").show()}function E(){var a=window.innerHeight-20,b=(window.innerHeight-p._jObject.height())/2;b=b<15?15:b;var c=(window.innerWidth-p._jObject.width())/2,d=window.innerWidth-115;h.css({top:b,left:c,"max-width":d,"max-height":a}),p._jObject.find(".window-content").css({"max-height":a-p._jObject.find(".window-footer").height()}),p._jObject.hasClass("noborder")&&p._jObject.find("img").css({"max-height":a-p._jObject.find(".window-footer").height()})}function F(){q(),s(),a(window).resize(E)}var o,p,c=a.extend({noticesClass:"window"},b),d=0,e=-1,f=a("body"),g=a('<div class="windowBackground"></div>'),h=a('<div id="windowBox" class="notice-class"></div>'),i=a('<div id="noticeLoading" class="spinner">		<div class="bounce1"></div>		<div class="bounce2"></div>		<div class="bounce3"></div></div>'),j=a('<div id="closeDialog" class="window notice-white" data-size="medium"><div class="window-content"><div><p>'+noticeLocalizeMessage.closeMessage+'</p></div></div><div class="window-footer"><div class="center"><button id="dontShowAgainNotice">'+noticeLocalizeMessage.dontShow+'</button><button id="closeNotice">'+noticeLocalizeMessage.close+'</button><div style="clear: both"></div></div></div></div>'),k=!1,l=a('<div id="backgroundClickMessage" class="window notice-white" data-size="small" data-displayTime="5"><div class="window-content"><div><p>'+noticeLocalizeMessage.backgroundClickMessage+'</p></div></div><div class="window-footer"><progress value="100" max="100"></progress></div></div>'),m=a('<a title="Previous" class="window-nav window-nav-previous" href="javascript:;"><span></span></a>'),n=a('<a title="Next" class="window-nav window-nav-next" href="javascript:;"><span></span></a>');F()}}(jQuery);